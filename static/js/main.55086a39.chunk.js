(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{12:function(t,e,n){},13:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),a=n(7),i=n.n(a),o=(n(12),n(6)),s=n(2),u=(n(13),function(){var t=[],e=function(e,n,r){if(e.vertical&&n+e.length>10||!e.vertical&&r+e.length>10)return!1;for(var c=0;c<10;c++)return(!0!==e.vertical||""===t[n+c][r])&&""===t[n][r+c]},n={board:t,createBoard:function(){for(var e=0;e<10;e++){t[e]=[];for(var r=0;r<10;r++)t[e][r]=""}return n.board},updatedBoard:undefined,shipPos:function(n,r,c){var a=t;if(e(n,r,c)){for(var i=0;i<n.length;i++)!0===n.vertical?t[r+i][c]=n:t[r][c+i]=n;return a}return!1},receiveAttack:function(e,n){var r=t[e][n];"\u2610"===r.ship?(r.attacked(!0),t[e][n]="\u2620"):""===r&&(t[e][n]="o")},allSunk:function(){for(var e=!1,n=0;n<10;n++){t[n].filter((function(t){return t.shipHealth>0})).length>0&&(e=!0)}return!e}};return n}),d=function(t,e,n){var r=function(t){(c.shipHealth-=t)<=0&&(c.sunkStatus=!0)},c={id:t,length:e,vertical:n,sunkStatus:!1,shipHealth:e,compDisplay:" ",ship:"\u2610",attacked:function(t){if(!0===t)return r(1),!0}};return c},l=function(t){var e=0,n=function(t,e,n){return""===t.board[e][n]||"\u2610"===t.board[e][n].ship};return{computerAttack:function r(c){if(e+=1,2===t){var a=Math.floor(10*Math.random()),i=Math.floor(10*Math.random());if(n(c,a,i))c.receiveAttack(a,i);else{if(!(e<500))return;r(c)}}}}},j=n(0),h=function(){var t=u();t.createBoard();var e=u();e.createBoard();var n=l(2),c=Object(r.useReducer)((function(t){return t+1}),0),a=Object(s.a)(c,2)[1],i=Object(r.useRef)(!1),h=Object(r.useState)(e.board),f=Object(s.a)(h,2),b=f[0],v=f[1],p=Object(r.useState)(t.board),m=Object(s.a)(p,2),O=m[0],x=m[1],k=Object(r.useState)(!1),N=Object(s.a)(k,2),M=N[0],S=N[1],g=Object(r.useState)(!1),B=Object(s.a)(g,2),w=B[0],E=B[1],A=function(){[d(1,2,!1),d(2,3,!0),d(3,3,!1),d(4,4,!1),d(5,5,!0)].forEach(C)},C=function e(n){var r=Math.floor(10*Math.random()),c=Math.floor(10*Math.random());t.shipPos(n,r,c)||e(n)},y=function t(n){var r=Math.floor(10*Math.random()),c=Math.floor(10*Math.random());e.shipPos(n,r,c)||t(n)};A(),[d(6,2,!0),d(7,3,!0),d(8,3,!1),d(9,4,!1),d(10,5,!1)].forEach(y);var H=function(r,c){e.receiveAttack(r,c),L(),e.allSunk()?S(!0):t.allSunk()?E(!0):setTimeout((function(){n.computerAttack(t),P()}),700)};Object(r.useEffect)((function(){var t=function(t){var e=t.target.classList.value,n=t.target.innerHTML,r=parseInt(t.target.dataset.id),c=parseInt(t.target.parentElement.dataset.id);i.current&&"comp-col"===e&&"\u2620"!==n&&"o"!==n&&H(c,r)};return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}}),[]);var L=function(){var t=Object(o.a)(b);v(t.map((function(t){return t})))},P=function(){var t=Object(o.a)(O);x(t.map((function(t){return t})))},I=function(){window.location.reload()};return Object(j.jsx)("div",{className:"game",children:Object(j.jsxs)("div",{className:"boards",children:[Object(j.jsxs)("div",{className:"user-board-ctn",children:[Object(j.jsx)("h1",{children:"Player's Board"}),O.map((function(t,e){return Object(j.jsx)("div",{className:"user-row","data-id":e,children:t.map((function(t,e){return Object(j.jsx)("span",{"data-id":e,id:t.id?t.id:null,className:"user-col",children:t.ship?t.ship:t},e)}))},e)}))]}),Object(j.jsxs)("div",{className:"buttons",children:[!i.current&&Object(j.jsxs)("div",{className:"button-ctn",children:[Object(j.jsx)("button",{onClick:function(){i.current=!0,a()},children:"Start"}),Object(j.jsx)("button",{onClick:function(){t.createBoard(),A();var e=t.board;x(e.map((function(t){return t})))},children:"Shuffle Ships"})]}),w&&Object(j.jsxs)("div",{className:"button-ctn",children:[Object(j.jsx)("div",{className:"winner",children:"Computer Wins!"}),Object(j.jsx)("button",{onClick:I,children:"Reset"})]}),M&&Object(j.jsxs)("div",{className:"button-ctn",children:[Object(j.jsx)("div",{className:"winner",children:"User Wins!"}),Object(j.jsx)("button",{onClick:I,children:"Reset"})]})]}),Object(j.jsxs)("div",{className:"comp-board-ctn",children:[Object(j.jsx)("h1",{children:"Computer's Board"}),b.map((function(t,e){return Object(j.jsx)("div",{"data-id":e,className:"comp-row",children:t.map((function(t,e){return Object(j.jsx)("span",{"data-id":e,id:t.id?t.id:null,className:"comp-col",children:t.compDisplay?t.compDisplay:t},e)}))},e)}))]})]})})};n(15);var f=function(){return Object(j.jsx)("header",{children:Object(j.jsx)("h1",{children:"BATTLESHIP"})})};var b=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{children:Object(j.jsx)(f,{})}),Object(j.jsx)("div",{children:Object(j.jsx)(h,{})})]})};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.55086a39.chunk.js.map